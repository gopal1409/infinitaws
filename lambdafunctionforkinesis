console.log('Loading function');

exports.handler = function(event, context) {
    //console.log(JSON.stringify(event, null, 2));
    event.Records.forEach(function(record) {
        // Kinesis data is base64 encoded so decode here
        var payload = Buffer.from(record.kinesis.data, 'base64').toString('ascii');
        console.log('Decoded payload:', payload);
    });
};


first you need to zip the lambda function 
1. zip function.zip index.js
second you need to upload the lambda function
2. aws lambda create function --function-name ProcessKinesisRecords --zip-file fileb://function.zip --handler index.handler --runtime nodejs12.x --role copytherolearnwhichwecreated earlier
